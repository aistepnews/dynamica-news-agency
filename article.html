<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>تحليل الخبر | وكالة دايناميكا الإخبارية</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Tajawal', sans-serif;
      background-color: #f1f5f9;
    }
    .tab-button {
      @apply px-4 py-2 rounded-lg border-2 font-semibold cursor-pointer transition;
    }
    .tab-button.active {
      background-color: #2563eb;
      color: white;
      border-color: #2563eb;
    }
  </style>
</head>
<body class="min-h-screen flex flex-col">

  <header class="bg-white shadow-md p-4">
    <h1 class="text-3xl font-bold text-center text-blue-700">تحليل الخبر</h1>
  </header>

  <main class="flex-grow container mx-auto px-4 py-8">
    <h2 id="article-title" class="text-2xl font-bold text-center text-gray-800 mb-8"></h2>

    <div class="flex flex-wrap justify-center gap-4 mb-8">
      <button class="tab-button" data-tab="summary">ملخص سريع</button>
      <button class="tab-button" data-tab="official">الرواية الرسمية</button>
      <button class="tab-button" data-tab="critical">الرواية النقدية</button>
      <button class="tab-button" data-tab="analysis">تحليل معمق</button>
      <button class="tab-button" data-tab="dimensions">أبعاد الخبر</button>
    </div>

    <div id="tab-content" class="bg-white rounded-lg shadow-md p-6 text-lg leading-relaxed text-gray-700">
      <!-- النص سيتغير حسب التبويب -->
    </div>
  </main>

  <footer class="bg-gray-800 text-white py-4 text-center">
    &copy; 2025 وكالة دايناميكا الإخبارية. جميع الحقوق محفوظة.
  </footer>

  <script>
    // استرجاع العنوان من LocalStorage
    const title = localStorage.getItem('selectedTitle');
    document.getElementById('article-title').textContent = title || 'عنوان غير متوفر';

    // توليد نصوص ذكية بناءً على العنوان
    function generateContent(type) {
      if (!title) return 'لا يوجد محتوى.';

      let lowerTitle = title.toLowerCase();
      let base = '';

      if (lowerTitle.includes('ترامب')) {
        base = 'خبر سياسي يتعلق بالتوترات الدولية ودور ترامب في ذلك.';
      } else if (lowerTitle.includes('اقتصاد') || lowerTitle.includes('بورصة') || lowerTitle.includes('دولار')) {
        base = 'خبر اقتصادي يتناول التغييرات في الأسواق المالية أو التأثيرات الاقتصادية.';
      } else if (lowerTitle.includes('قصف') || lowerTitle.includes('انفجار') || lowerTitle.includes('صراع')) {
        base = 'خبر عسكري وإنساني يتحدث عن النزاعات المسلحة وآثارها.';
      } else if (lowerTitle.includes('انتخابات') || lowerTitle.includes('رئاسة')) {
        base = 'خبر سياسي يتناول الحملات الانتخابية والتغيرات السياسية.';
      } else {
        base = 'خبر عام يغطي حدثاً بارزاً في الساحة المحلية أو الدولية.';
      }

      switch (type) {
        case 'summary':
          return `🔹 ملخص سريع: ${base}`;
        case 'official':
          return `🔹 الرواية الرسمية: وفقاً للجهات الرسمية، ${base} ويأتي هذا في إطار السياسات المعتمدة مؤخراً.`;
        case 'critical':
          return `🔹 الرواية النقدية: بعض المحللين يعتبرون أن ${base} يعبر عن خلل بنيوي يجب معالجته.`;
        case 'analysis':
          return `🔹 تحليل معمق: بتحليل خلفيات الحدث، يتضح أن ${base} يتداخل مع معطيات إقليمية وعالمية معقدة.`;
        case 'dimensions':
          return `🔹 أبعاد الخبر: لهذا الحدث تأثيرات مباشرة وغير مباشرة تمتد إلى الجوانب السياسية، الاجتماعية، والاقتصادية.`;
        default:
          return 'لا يوجد محتوى.';
      }
    }

    // تفعيل التبويبات
    const buttons = document.querySelectorAll('.tab-button');
    const tabContent = document.getElementById('tab-content');

    buttons.forEach(button => {
      button.addEventListener('click', function() {
        buttons.forEach(btn => btn.classList.remove('active'));
        this.classList.add('active');
        const type = this.getAttribute('data-tab');
        tabContent.textContent = generateContent(type);
      });
    });

    // افتراضياً نعرض الملخص
    if (buttons.length > 0) {
      buttons[0].classList.add('active');
      tabContent.textContent = generateContent('summary');
    }
  </script>

</body>
</html>
